{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{120:function(e,t,n){},128:function(e,t,n){\"use strict\";n.r(t);var a,r,o,c,s,i=n(0),l=n.n(i),d=n(42),u=n.n(d),b=(n(119),n(120),n(38)),j=n(67),h=n(8),O=n(23),m=n(12),g=n(18),p=n(11),x=n(136),v=n(137),k=n(145),f=n(108),w=n(138),S=n(139),y=n(152),I=n(60),C=n(147),B=Object(C.a)(a||(a=Object(I.a)([\"\\n    mutation login($email: String, $password: String) {\\n        login(email, password: $password) {\\n            token\\n            user {\\n                _id\\n                username\\n            }\\n        }\\n    }\\n\"]))),$=Object(C.a)(r||(r=Object(I.a)([\"\\n    mutation addUser($username: String!, $email: String!, $password: String!) {\\n        addUser(username: $username, email: $email, password: $password) {\\n            token\\n            user {\\n                _id\\n                username\\n            }\\n        }\\n    }\\n\"]))),F=Object(C.a)(o||(o=Object(I.a)([\"\\n    mutation savebook(\\n        $bookId: String\\n        $authors: [String]\\n        $description: String\\n        $title: String\\n        $image: String\\n        $link: String\\n    ) {\\n        saveBook(\\n            bookId: $bookId\\n            authors: $authors\\n            description: $description\\n            titleL $title\\n            image: $image\\n            link: $link\\n        ) {\\n           _id\\n           username\\n           email\\n           bookCount\\n           savedBooks {\\n            bookId\\n            authors\\n            description\\n            title\\n            image\\n            link\\n           } \\n        }\\n    }\\n\"]))),T=Object(C.a)(c||(c=Object(I.a)([\"\\n    mutation removeBook($bookId: String!) {\\n        removeBook(bookId: $bookId) {\\n            _id\\n            username\\n            bookCount\\n            savedBooks {\\n                bookId\\n                authors\\n                description\\n                title\\n                image\\n                link\\n            }\\n        }\\n    }\\n\"]))),L=n(21),_=n(22),N=n(97),q=n.n(N),E=new(function(){function e(){Object(L.a)(this,e)}return Object(_.a)(e,[{key:\"getProfile\",value:function(){return q()(this.getToken())}},{key:\"loggedIn\",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:\"isTokenExpired\",value:function(e){try{return q()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:\"getToken\",value:function(){return localStorage.getItem(\"id_token\")}},{key:\"login\",value:function(e){localStorage.setItem(\"id_token\",e),window.location.assign(\"/\")}},{key:\"logout\",value:function(){localStorage.removeItem(\"id_token\"),window.location.assign(\"/\")}}]),e}()),P=function(e){var t=localStorage.getItem(\"saved_books\")?JSON.parse(localStorage.getItem(\"saved_books\")):null;if(!t)return!1;var n=null===t||void 0===t?void 0:t.filter((function(t){return t!==e}));return localStorage.setItem(\"saved_books\",JSON.stringify(n)),!0},D=n(135),G=n(3),U=function(){var e=Object(i.useState)([]),t=Object(p.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(\"\"),o=Object(p.a)(r,2),c=o[0],s=o[1],l=Object(D.a)(F),d=Object(p.a)(l,1)[0],u=Object(i.useState)(localStorage.getItem(\"saved_books\")?JSON.parse(localStorage.getItem(\"saved_books\")):[]),b=Object(p.a)(u,2),j=b[0],h=b[1];Object(i.useEffect)((function(){return function(){var e;(e=j).length?localStorage.setItem(\"saved_books\",JSON.stringify(e)):localStorage.removeItem(\"saved_books\")}}));var I=function(){var e=Object(g.a)(Object(m.a)().mark((function e(t){var n,r,o,i;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c){e.next=3;break}return e.abrupt(\"return\",!1);case 3:return e.prev=3,e.next=6,fetch(\"https://www.googleapis.com/books/v1/volumes?q=\".concat(c));case 6:if((n=e.sent).ok){e.next=9;break}throw new Error(\"something went wrong!\");case 9:return e.next=11,n.json();case 11:r=e.sent,o=r.items,i=o.map((function(e){var t;return{bookId:e.id,authors:e.volumeInfo.authors||[\"No author to display\"],title:e.volumeInfo.title,description:e.volumeInfo.description,image:(null===(t=e.volumeInfo.imageLinks)||void 0===t?void 0:t.thumbnail)||\"\"}})),a(i),s(\"\"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),console.error(e.t0);case 21:case\"end\":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(g.a)(Object(m.a)().mark((function e(t){var a,r;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.find((function(e){return e.bookId===t})),r=E.loggedIn()?E.getToken():null){e.next=4;break}return e.abrupt(\"return\",!1);case 4:return e.prev=4,e.next=7,d(a,r);case 7:if(e.sent.ok){e.next=10;break}throw new Error(\"something went wrong!\");case 10:h([].concat(Object(O.a)(j),[a.bookId])),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.error(e.t0);case 16:case\"end\":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(x.a,{fluid:!0,className:\"text-light bg-dark\",children:Object(G.jsxs)(v.a,{children:[Object(G.jsx)(\"h1\",{children:\"Search for Books!\"}),Object(G.jsx)(k.a,{onSubmit:I,children:Object(G.jsxs)(k.a.Row,{children:[Object(G.jsx)(f.a,{xs:12,md:8,children:Object(G.jsx)(k.a.Control,{name:\"searchInput\",value:c,onChange:function(e){return s(e.target.value)},type:\"text\",size:\"lg\",placeholder:\"Search for a book\"})}),Object(G.jsx)(f.a,{xs:12,md:4,children:Object(G.jsx)(w.a,{type:\"submit\",variant:\"success\",size:\"lg\",children:\"Submit Search\"})})]})})]})}),Object(G.jsxs)(v.a,{children:[Object(G.jsx)(\"h2\",{children:n.length?\"Viewing \".concat(n.length,\" results:\"):\"Search for a book to begin\"}),Object(G.jsx)(S.a,{children:n.map((function(e){return Object(G.jsxs)(y.a,{border:\"dark\",children:[e.image?Object(G.jsx)(y.a.Img,{src:e.image,alt:\"The cover for \".concat(e.title),variant:\"top\"}):null,Object(G.jsxs)(y.a.Body,{children:[Object(G.jsx)(y.a.Title,{children:e.title}),Object(G.jsxs)(\"p\",{className:\"small\",children:[\"Authors: \",e.authors]}),Object(G.jsx)(y.a.Text,{children:e.description}),E.loggedIn()&&Object(G.jsx)(w.a,{disabled:null===j||void 0===j?void 0:j.some((function(t){return t===e.bookId})),className:\"btn-block btn-info\",onClick:function(){return C(e.bookId)},children:null!==j&&void 0!==j&&j.some((function(t){return t===e.bookId}))?\"This book has already been saved!\":\"Save this Book!\"})]})]},e.bookId)}))})]})]})},V=n(154),Y=Object(C.a)(s||(s=Object(I.a)([\"\\n    query listing {\\n        me {\\n            _id\\n            username\\n            email\\n            bookCount\\n            saveBooks {\\n                bookId\\n                authors\\n                description\\n                title\\n                image\\n                link\\n            }\\n        }\\n        \\n    }\\n\"]))),J=function(){var e=Object(V.a)(Y),t=e.loading,n=e.data,a=(null===n||void 0===n?void 0:n.me)||{},r=Object(D.a)(T),o=Object(p.a)(r,1)[0],c=function(){var e=Object(g.a)(Object(m.a)().mark((function e(t){var n;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.loggedIn()?E.getToken():null){e.next=3;break}return e.abrupt(\"return\",!1);case 3:return e.prev=3,e.next=6,o({variables:{bookId:t}});case 6:if(n=e.sent,n.data){e.next=10;break}throw new Error(\"Need to check your code!!\");case 10:P(t),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0);case 16:case\"end\":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return t?Object(G.jsx)(\"h2\",{children:\"LOADING...\"}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(x.a,{fluid:!0,className:\"text-light bg-dark\",children:Object(G.jsx)(v.a,{children:Object(G.jsx)(\"h1\",{children:\"Viewing saved books!\"})})}),Object(G.jsxs)(v.a,{children:[Object(G.jsx)(\"h2\",{children:a.savedBooks.length?\"Viewing \".concat(a.savedBooks.length,\" saved \").concat(1===a.savedBooks.length?\"book\":\"books\",\":\"):\"You have no saved books!\"}),Object(G.jsx)(S.a,{children:a.savedBooks.map((function(e){return Object(G.jsxs)(y.a,{border:\"dark\",children:[e.image?Object(G.jsx)(y.a.Img,{src:e.image,alt:\"The cover for \".concat(e.title),variant:\"top\"}):null,Object(G.jsxs)(y.a.Body,{children:[Object(G.jsx)(y.a.Title,{children:e.title}),Object(G.jsxs)(\"p\",{className:\"small\",children:[\"Authors: \",e.authors]}),Object(G.jsx)(y.a.Text,{children:e.description}),Object(G.jsx)(w.a,{className:\"btn-block btn-danger\",onClick:function(){return c(e.bookId)},children:\"Delete this Book!\"})]})]},e.bookId)}))})]})]})},K=n(150),z=n(149),A=n(144),M=n(151),H=n(19),R=n(141),W=function(){var e=Object(i.useState)({username:\"\",email:\"\",password:\"\"}),t=Object(p.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(!1),o=Object(p.a)(r,1)[0],c=Object(i.useState)(!1),s=Object(p.a)(c,2),l=s[0],d=s[1],u=function(e){var t=e.target,r=t.name,o=t.value;a(Object(b.a)(Object(b.a)({},n),{},Object(H.a)({},r,o)))},j=function(){var e=Object(g.a)(Object(m.a)().mark((function e(t){var r,o;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),!1===t.currentTarget.checkValidity()&&(t.preventDefault(),t.stopPropagation()),e.prev=3,e.next=6,$({variables:Object(b.a)({},n)});case 6:if(r=e.sent,o=r.data){e.next=10;break}throw new Error(\"something went wrong!\");case 10:E.login(o.addUser.token),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),d(!0);case 17:a({username:\"\",email:\"\",password:\"\"});case 18:case\"end\":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)(k.a,{noValidate:!0,validated:o,onSubmit:j,children:[Object(G.jsx)(R.a,{dismissible:!0,onClose:function(){return d(!1)},show:l,variant:\"danger\",children:\"Something went wrong with your signup!\"}),Object(G.jsxs)(k.a.Group,{children:[Object(G.jsx)(k.a.Label,{htmlFor:\"username\",children:\"Username\"}),Object(G.jsx)(k.a.Control,{type:\"text\",placeholder:\"Your username\",name:\"username\",onChange:u,value:n.username,required:!0}),Object(G.jsx)(k.a.Control.Feedback,{type:\"invalid\",children:\"Username is required!\"})]}),Object(G.jsxs)(k.a.Group,{children:[Object(G.jsx)(k.a.Label,{htmlFor:\"email\",children:\"Email\"}),Object(G.jsx)(k.a.Control,{type:\"email\",placeholder:\"Your email address\",name:\"email\",onChange:u,value:n.email,required:!0}),Object(G.jsx)(k.a.Control.Feedback,{type:\"invalid\",children:\"Email is required!\"})]}),Object(G.jsxs)(k.a.Group,{children:[Object(G.jsx)(k.a.Label,{htmlFor:\"password\",children:\"Password\"}),Object(G.jsx)(k.a.Control,{type:\"password\",placeholder:\"Your password\",name:\"password\",onChange:u,value:n.password,required:!0}),Object(G.jsx)(k.a.Control.Feedback,{type:\"invalid\",children:\"Password is required!\"})]}),Object(G.jsx)(w.a,{disabled:!(n.username&&n.email&&n.password),type:\"submit\",variant:\"success\",children:\"Submit\"})]})})},Q=function(){var e=Object(i.useState)({email:\"\",password:\"\"}),t=Object(p.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(!1),o=Object(p.a)(r,1)[0],c=Object(i.useState)(!1),s=Object(p.a)(c,2),l=s[0],d=s[1],u=Object(D.a)(B),j=Object(p.a)(u,1)[0],h=function(e){var t=e.target,r=t.name,o=t.value;a(Object(b.a)(Object(b.a)({},n),{},Object(H.a)({},r,o)))},O=function(){var e=Object(g.a)(Object(m.a)().mark((function e(t){var r,o;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),!1===t.currentTarget.checkValidity()&&(t.preventDefault(),t.stopPropagation()),e.prev=3,e.next=6,j({variables:Object(b.a)({},n)});case 6:if(r=e.sent,o=r.data){e.next=10;break}throw new Error(\"something went wrong!\");case 10:E.login(o.login.token),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),d(!0);case 17:a({username:\"\",email:\"\",password:\"\"});case 18:case\"end\":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)(k.a,{noValidate:!0,validated:o,onSubmit:O,children:[Object(G.jsx)(R.a,{dismissible:!0,onClose:function(){return d(!1)},show:l,variant:\"danger\",children:\"Something went wrong with your login credentials!\"}),Object(G.jsxs)(k.a.Group,{children:[Object(G.jsx)(k.a.Label,{htmlFor:\"email\",children:\"Email\"}),Object(G.jsx)(k.a.Control,{type:\"text\",placeholder:\"Your email\",name:\"email\",onChange:h,value:n.email,required:!0}),Object(G.jsx)(k.a.Control.Feedback,{type:\"invalid\",children:\"Email is required!\"})]}),Object(G.jsxs)(k.a.Group,{children:[Object(G.jsx)(k.a.Label,{htmlFor:\"password\",children:\"Password\"}),Object(G.jsx)(k.a.Control,{type:\"password\",placeholder:\"Your password\",name:\"password\",onChange:h,value:n.password,required:!0}),Object(G.jsx)(k.a.Control.Feedback,{type:\"invalid\",children:\"Password is required!\"})]}),Object(G.jsx)(w.a,{disabled:!(n.email&&n.password),type:\"submit\",variant:\"success\",children:\"Submit\"})]})})},X=function(){var e=Object(i.useState)(!1),t=Object(p.a)(e,2),n=t[0],a=t[1];return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(K.a,{bg:\"dark\",variant:\"dark\",expand:\"lg\",children:Object(G.jsxs)(v.a,{fluid:!0,children:[Object(G.jsx)(K.a.Brand,{as:j.b,to:\"/\",children:\"Google Books Search\"}),Object(G.jsx)(K.a.Toggle,{\"aria-controls\":\"navbar\"}),Object(G.jsx)(K.a.Collapse,{id:\"navbar\",children:Object(G.jsxs)(z.a,{className:\"ml-auto\",children:[Object(G.jsx)(z.a.Link,{as:j.b,to:\"/\",children:\"Search For Books\"}),E.loggedIn()?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(z.a.Link,{as:j.b,to:\"/saved\",children:\"See Your Books\"}),Object(G.jsx)(z.a.Link,{onClick:E.logout,children:\"Logout\"})]}):Object(G.jsx)(z.a.Link,{onClick:function(){return a(!0)},children:\"Login/Sign Up\"})]})})]})}),Object(G.jsx)(A.a,{size:\"lg\",show:n,onHide:function(){return a(!1)},\"aria-labelledby\":\"signup-modal\",children:Object(G.jsxs)(M.a.Container,{defaultActiveKey:\"login\",children:[Object(G.jsx)(A.a.Header,{closeButton:!0,children:Object(G.jsx)(A.a.Title,{id:\"signup-modal\",children:Object(G.jsxs)(z.a,{variant:\"pills\",children:[Object(G.jsx)(z.a.Item,{children:Object(G.jsx)(z.a.Link,{eventKey:\"login\",children:\"Login\"})}),Object(G.jsx)(z.a.Item,{children:Object(G.jsx)(z.a.Link,{eventKey:\"signup\",children:\"Sign Up\"})})]})})}),Object(G.jsx)(A.a.Body,{children:Object(G.jsxs)(M.a.Content,{children:[Object(G.jsx)(M.a.Pane,{eventKey:\"login\",children:Object(G.jsx)(Q,{handleModalClose:function(){return a(!1)}})}),Object(G.jsx)(M.a.Pane,{eventKey:\"signup\",children:Object(G.jsx)(W,{handleModalClose:function(){return a(!1)}})})]})})]})})]})},Z=n(112),ee=n(146),te=n(148),ne=n(143),ae=n(110),re=Object(Z.a)({uri:\"/graphql\"}),oe=Object(ae.a)((function(e,t){var n=t.header,a=localStorage.getItem(\"id_token\");return{header:Object(b.a)(Object(b.a)({},n),{},{authorization:a?\"Bearer \".concat(a):\"\"})}})),ce=new ee.a({link:oe.concat(re),cache:new te.a});var se=function(){return Object(G.jsx)(ne.a,{client:ce,children:Object(G.jsx)(j.a,{children:Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(X,{}),Object(G.jsxs)(h.c,{children:[Object(G.jsx)(h.a,{path:\"/\",element:Object(G.jsx)(U,{})}),Object(G.jsx)(h.a,{path:\"/saved\",element:Object(G.jsx)(J,{})}),Object(G.jsx)(h.a,{path:\"*\",element:Object(G.jsx)(\"h1\",{className:\"display-2\",children:\"Wrong page!\"})})]})]})})})};u.a.render(Object(G.jsx)(l.a.StrictMode,{children:Object(G.jsx)(se,{})}),document.getElementById(\"root\"))}},[[128,1,2]]]);","name":"static/js/main.6acc0e43.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","_templateObject","_templateObject2","_templateObject3","_templateObject4","queries_templateObject","react","react_default","n","react_dom","react_dom_default","objectSpread2","dist","react_router_dist","toConsumableArray","regeneratorRuntime","asyncToGenerator","slicedToArray","Jumbotron","Container","Form","Col","Button","CardColumns","Card","taggedTemplateLiteral","lib","LOGIN_USER","Object","ADD_USER","SAVE_BOOK","REMOVE_BOOK","classCallCheck","createClass","jwt_decode_lib","lib_default","auth","AuthService","key","value","getToken","token","isTokenExpired","exp","Date","now","err","localStorage","getItem","idToken","setItem","window","location","assign","removeItem","removeBookId","bookId","savedBookIds","JSON","parse","updatedSavedBookIds","filter","savedBookId","stringify","useMutation","jsx_runtime","pages_SearchBooks","_useState","_useState2","searchedBooks","setSearchedBooks","_useState3","_useState4","searchInput","setSearchInput","_useMutation","saveBook","_useState5","_useState6","setSavedBookIds","bookIdArr","length","handleFormSubmit","_ref","mark","_callee","event","response","_yield$response$json","items","bookData","wrap","_context","prev","next","preventDefault","abrupt","fetch","concat","sent","ok","Error","json","map","book","_book$volumeInfo$imag","id","authors","volumeInfo","title","description","image","imageLinks","thumbnail","t0","console","error","stop","_x","apply","arguments","handleSaveBook","_ref2","_callee2","bookToSave","_context2","find","loggedIn","_x2","children","fluid","className","onSubmit","Row","xs","md","Control","name","onChange","e","target","type","size","placeholder","variant","border","Img","src","alt","Body","Title","Text","disabled","some","onClick","useQuery","GET_ME","pages_SavedBooks","_useQuery","loading","data","userData","me","removeBook","handleDeleteBook","_yield$removeBook","variables","savedBooks","Navbar","Nav","Modal","Tab","defineProperty","Alert","components_SignupForm","username","email","password","userFormData","setUserFormData","validated","showAlert","setShowAlert","handleInputChange","_event$target","_yield$ADD_USER","currentTarget","checkValidity","stopPropagation","login","addUser","noValidate","dismissible","onClose","show","Group","Label","htmlFor","required","Feedback","components_LoginForm","_yield$login","components_Navbar","showModal","setShowModal","bg","expand","Brand","as","to","Toggle","Collapse","Link","logout","onHide","defaultActiveKey","Header","closeButton","Item","eventKey","Content","Pane","handleModalClose","createHttpLink","ApolloClient","inMemoryCache","ApolloProvider","context","httpLink","uri","authLInk","_","header","authorization","client","link","cache","src_App","path","element","a","render","StrictMode","document","getElementById"],"sources":["static/js/main.6acc0e43.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 120:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 128:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(42);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/bootstrap/dist/css/bootstrap.min.css\nvar bootstrap_min = __webpack_require__(119);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(120);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(38);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/index.js\nvar dist = __webpack_require__(67);\n\n// EXTERNAL MODULE: ./node_modules/react-router/dist/index.js\nvar react_router_dist = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules\nvar toConsumableArray = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\nvar regeneratorRuntime = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Jumbotron.js\nvar Jumbotron = __webpack_require__(136);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Container.js\nvar Container = __webpack_require__(137);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Form.js + 13 modules\nvar Form = __webpack_require__(145);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Col.js\nvar Col = __webpack_require__(108);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Button.js\nvar Button = __webpack_require__(138);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/CardColumns.js\nvar CardColumns = __webpack_require__(139);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Card.js + 1 modules\nvar Card = __webpack_require__(152);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(60);\n\n// EXTERNAL MODULE: ./node_modules/graphql-tag/lib/index.js + 10 modules\nvar lib = __webpack_require__(147);\n\n// CONCATENATED MODULE: ./src/utils/mutations.js\nvar _templateObject,_templateObject2,_templateObject3,_templateObject4;var LOGIN_USER=Object(lib[\"a\" /* gql */])(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    mutation login($email: String, $password: String) {\\n        login(email, password: $password) {\\n            token\\n            user {\\n                _id\\n                username\\n            }\\n        }\\n    }\\n\"])));var ADD_USER=Object(lib[\"a\" /* gql */])(_templateObject2||(_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    mutation addUser($username: String!, $email: String!, $password: String!) {\\n        addUser(username: $username, email: $email, password: $password) {\\n            token\\n            user {\\n                _id\\n                username\\n            }\\n        }\\n    }\\n\"])));var SAVE_BOOK=Object(lib[\"a\" /* gql */])(_templateObject3||(_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    mutation savebook(\\n        $bookId: String\\n        $authors: [String]\\n        $description: String\\n        $title: String\\n        $image: String\\n        $link: String\\n    ) {\\n        saveBook(\\n            bookId: $bookId\\n            authors: $authors\\n            description: $description\\n            titleL $title\\n            image: $image\\n            link: $link\\n        ) {\\n           _id\\n           username\\n           email\\n           bookCount\\n           savedBooks {\\n            bookId\\n            authors\\n            description\\n            title\\n            image\\n            link\\n           } \\n        }\\n    }\\n\"])));var REMOVE_BOOK=Object(lib[\"a\" /* gql */])(_templateObject4||(_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    mutation removeBook($bookId: String!) {\\n        removeBook(bookId: $bookId) {\\n            _id\\n            username\\n            bookCount\\n            savedBooks {\\n                bookId\\n                authors\\n                description\\n                title\\n                image\\n                link\\n            }\\n        }\\n    }\\n\"])));\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/jwt-decode/lib/index.js\nvar jwt_decode_lib = __webpack_require__(97);\nvar lib_default = /*#__PURE__*/__webpack_require__.n(jwt_decode_lib);\n\n// CONCATENATED MODULE: ./src/utils/auth.js\n// use this to decode a token and get the user's information out of it\n// create a new class to instantiate for a user\nvar auth_AuthService=/*#__PURE__*/function(){function AuthService(){Object(classCallCheck[\"a\" /* default */])(this,AuthService);}Object(createClass[\"a\" /* default */])(AuthService,[{key:\"getProfile\",value:// get user data\nfunction getProfile(){return lib_default()(this.getToken());}// check if user's logged in\n},{key:\"loggedIn\",value:function loggedIn(){// Checks if there is a saved token and it's still valid\nvar token=this.getToken();return!!token&&!this.isTokenExpired(token);// handwaiving here\n}// check if token is expired\n},{key:\"isTokenExpired\",value:function isTokenExpired(token){try{var decoded=lib_default()(token);if(decoded.exp<Date.now()/1000){return true;}else return false;}catch(err){return false;}}},{key:\"getToken\",value:function getToken(){// Retrieves the user token from localStorage\nreturn localStorage.getItem('id_token');}},{key:\"login\",value:function login(idToken){// Saves user token to localStorage\nlocalStorage.setItem('id_token',idToken);window.location.assign('/');}},{key:\"logout\",value:function logout(){// Clear user token and profile data from localStorage\nlocalStorage.removeItem('id_token');// this will reload the page and reset the state of the application\nwindow.location.assign('/');}}]);return AuthService;}();/* harmony default export */ var auth = (new auth_AuthService());\n// CONCATENATED MODULE: ./src/utils/API.js\n// route to get logged in user's info (needs the token)\nvar getMe=function getMe(token){return fetch('/api/users/me',{headers:{'Content-Type':'application/json',authorization:\"Bearer \".concat(token)}});};var createUser=function createUser(userData){return fetch('/api/users',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(userData)});};var loginUser=function loginUser(userData){return fetch('/api/users/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(userData)});};// save book data for a logged in user\nvar API_saveBook=function saveBook(bookData,token){return fetch('/api/users',{method:'PUT',headers:{'Content-Type':'application/json',authorization:\"Bearer \".concat(token)},body:JSON.stringify(bookData)});};// remove saved book data for a logged in user\nvar deleteBook=function deleteBook(bookId,token){return fetch(\"/api/users/books/\".concat(bookId),{method:'DELETE',headers:{authorization:\"Bearer \".concat(token)}});};// make a search to google books api\n// https://www.googleapis.com/books/v1/volumes?q=harry+potter\nvar searchGoogleBooks=function searchGoogleBooks(query){return fetch(\"https://www.googleapis.com/books/v1/volumes?q=\".concat(query));};\n// CONCATENATED MODULE: ./src/utils/localStorage.js\nvar getSavedBookIds=function getSavedBookIds(){var savedBookIds=localStorage.getItem('saved_books')?JSON.parse(localStorage.getItem('saved_books')):[];return savedBookIds;};var saveBookIds=function saveBookIds(bookIdArr){if(bookIdArr.length){localStorage.setItem('saved_books',JSON.stringify(bookIdArr));}else{localStorage.removeItem('saved_books');}};var removeBookId=function removeBookId(bookId){var savedBookIds=localStorage.getItem('saved_books')?JSON.parse(localStorage.getItem('saved_books')):null;if(!savedBookIds){return false;}var updatedSavedBookIds=savedBookIds===null||savedBookIds===void 0?void 0:savedBookIds.filter(function(savedBookId){return savedBookId!==bookId;});localStorage.setItem('saved_books',JSON.stringify(updatedSavedBookIds));return true;};\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useMutation.js\nvar useMutation = __webpack_require__(135);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/pages/SearchBooks.js\nvar SearchBooks_SearchBooks=function SearchBooks(){// create state for holding returned google api data\nvar _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),searchedBooks=_useState2[0],setSearchedBooks=_useState2[1];// create state for holding our search field data\nvar _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),searchInput=_useState4[0],setSearchInput=_useState4[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(SAVE_BOOK),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,1),saveBook=_useMutation2[0];// create state to hold saved bookId values\nvar _useState5=Object(react[\"useState\"])(getSavedBookIds()),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),savedBookIds=_useState6[0],setSavedBookIds=_useState6[1];// set up useEffect hook to save `savedBookIds` list to localStorage on component unmount\n// learn more here: https://reactjs.org/docs/hooks-effect.html#effects-with-cleanup\nObject(react[\"useEffect\"])(function(){return function(){return saveBookIds(savedBookIds);};});// create method to search for books and set state on form submit\nvar handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(event){var response,_yield$response$json,items,bookData;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();if(searchInput){_context.next=3;break;}return _context.abrupt(\"return\",false);case 3:_context.prev=3;_context.next=6;return searchGoogleBooks(searchInput);case 6:response=_context.sent;if(response.ok){_context.next=9;break;}throw new Error('something went wrong!');case 9:_context.next=11;return response.json();case 11:_yield$response$json=_context.sent;items=_yield$response$json.items;bookData=items.map(function(book){var _book$volumeInfo$imag;return{bookId:book.id,authors:book.volumeInfo.authors||['No author to display'],title:book.volumeInfo.title,description:book.volumeInfo.description,image:((_book$volumeInfo$imag=book.volumeInfo.imageLinks)===null||_book$volumeInfo$imag===void 0?void 0:_book$volumeInfo$imag.thumbnail)||''};});setSearchedBooks(bookData);setSearchInput('');_context.next=21;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](3);console.error(_context.t0);case 21:case\"end\":return _context.stop();}},_callee,null,[[3,18]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();// create function to handle saving a book to our database\nvar handleSaveBook=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee2(bookId){var bookToSave,token,response;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:// find the book in `searchedBooks` state by the matching id\nbookToSave=searchedBooks.find(function(book){return book.bookId===bookId;});// get token\ntoken=auth.loggedIn()?auth.getToken():null;if(token){_context2.next=4;break;}return _context2.abrupt(\"return\",false);case 4:_context2.prev=4;_context2.next=7;return saveBook(bookToSave,token);case 7:response=_context2.sent;if(response.ok){_context2.next=10;break;}throw new Error('something went wrong!');case 10:// if book successfully saves to user's account, save book id to state\nsetSavedBookIds([].concat(Object(toConsumableArray[\"a\" /* default */])(savedBookIds),[bookToSave.bookId]));_context2.next=16;break;case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](4);console.error(_context2.t0);case 16:case\"end\":return _context2.stop();}},_callee2,null,[[4,13]]);}));return function handleSaveBook(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Jumbotron[\"a\" /* default */],{fluid:true,className:\"text-light bg-dark\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Search for Books!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */],{onSubmit:handleFormSubmit,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Row,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{xs:12,md:8,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{name:\"searchInput\",value:searchInput,onChange:function onChange(e){return setSearchInput(e.target.value);},type:\"text\",size:\"lg\",placeholder:\"Search for a book\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{xs:12,md:4,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",variant:\"success\",size:\"lg\",children:\"Submit Search\"})})]})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:searchedBooks.length?\"Viewing \".concat(searchedBooks.length,\" results:\"):'Search for a book to begin'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CardColumns[\"a\" /* default */],{children:searchedBooks.map(function(book){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */],{border:\"dark\",children:[book.image?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Img,{src:book.image,alt:\"The cover for \".concat(book.title),variant:\"top\"}):null,/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */].Body,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Title,{children:book.title}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"small\",children:[\"Authors: \",book.authors]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Text,{children:book.description}),auth.loggedIn()&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disabled:savedBookIds===null||savedBookIds===void 0?void 0:savedBookIds.some(function(savedBookId){return savedBookId===book.bookId;}),className:\"btn-block btn-info\",onClick:function onClick(){return handleSaveBook(book.bookId);},children:savedBookIds!==null&&savedBookIds!==void 0&&savedBookIds.some(function(savedBookId){return savedBookId===book.bookId;})?'This book has already been saved!':'Save this Book!'})]})]},book.bookId);})})]})]});};/* harmony default export */ var pages_SearchBooks = (SearchBooks_SearchBooks);\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useQuery.js + 1 modules\nvar useQuery = __webpack_require__(154);\n\n// CONCATENATED MODULE: ./src/utils/queries.js\nvar queries_templateObject;var GET_ME=Object(lib[\"a\" /* gql */])(queries_templateObject||(queries_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    query listing {\\n        me {\\n            _id\\n            username\\n            email\\n            bookCount\\n            saveBooks {\\n                bookId\\n                authors\\n                description\\n                title\\n                image\\n                link\\n            }\\n        }\\n        \\n    }\\n\"])));\n// CONCATENATED MODULE: ./src/pages/SavedBooks.js\nvar SavedBooks_SavedBooks=function SavedBooks(){var _useQuery=Object(useQuery[\"a\" /* useQuery */])(GET_ME),loading=_useQuery.loading,data=_useQuery.data;var userData=(data===null||data===void 0?void 0:data.me)||{};var _useMutation=Object(useMutation[\"a\" /* useMutation */])(REMOVE_BOOK),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,1),removeBook=_useMutation2[0];var handleDeleteBook=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(bookId){var token,_yield$removeBook,_data;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:token=auth.loggedIn()?auth.getToken():null;if(token){_context.next=3;break;}return _context.abrupt(\"return\",false);case 3:_context.prev=3;_context.next=6;return removeBook({variables:{bookId:bookId}});case 6:_yield$removeBook=_context.sent;_data=_yield$removeBook.data;if(_data){_context.next=10;break;}throw new Error('Need to check your code!!');case 10://removing book id from localStorage\nremoveBookId(bookId);_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](3);console.error(_context.t0);case 16:case\"end\":return _context.stop();}},_callee,null,[[3,13]]);}));return function handleDeleteBook(_x){return _ref.apply(this,arguments);};}();if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"LOADING...\"});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Jumbotron[\"a\" /* default */],{fluid:true,className:\"text-light bg-dark\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Viewing saved books!\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:userData.savedBooks.length?\"Viewing \".concat(userData.savedBooks.length,\" saved \").concat(userData.savedBooks.length===1?'book':'books',\":\"):'You have no saved books!'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CardColumns[\"a\" /* default */],{children:userData.savedBooks.map(function(book){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */],{border:\"dark\",children:[book.image?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Img,{src:book.image,alt:\"The cover for \".concat(book.title),variant:\"top\"}):null,/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */].Body,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Title,{children:book.title}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"small\",children:[\"Authors: \",book.authors]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Text,{children:book.description}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"btn-block btn-danger\",onClick:function onClick(){return handleDeleteBook(book.bookId);},children:\"Delete this Book!\"})]})]},book.bookId);})})]})]});};/* harmony default export */ var pages_SavedBooks = (SavedBooks_SavedBooks);\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Navbar.js + 4 modules\nvar Navbar = __webpack_require__(150);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Nav.js + 7 modules\nvar Nav = __webpack_require__(149);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Modal.js + 22 modules\nvar Modal = __webpack_require__(144);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Tab.js + 3 modules\nvar Tab = __webpack_require__(151);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Alert.js\nvar Alert = __webpack_require__(141);\n\n// CONCATENATED MODULE: ./src/components/SignupForm.js\nvar SignupForm_SignupForm=function SignupForm(){// set initial form state\nvar _useState=Object(react[\"useState\"])({username:'',email:'',password:''}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userFormData=_useState2[0],setUserFormData=_useState2[1];// set state for form validation\nvar _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,1),validated=_useState4[0];// set state for alert\nvar _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),showAlert=_useState6[0],setShowAlert=_useState6[1];var handleInputChange=function handleInputChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setUserFormData(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},userFormData),{},Object(defineProperty[\"a\" /* default */])({},name,value)));};var handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(event){var form,_yield$ADD_USER,data;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();// check if form has everything (as per react-bootstrap docs)\nform=event.currentTarget;if(form.checkValidity()===false){event.preventDefault();event.stopPropagation();}_context.prev=3;_context.next=6;return ADD_USER({variables:Object(objectSpread2[\"a\" /* default */])({},userFormData)});case 6:_yield$ADD_USER=_context.sent;data=_yield$ADD_USER.data;if(data){_context.next=10;break;}throw new Error('something went wrong!');case 10:auth.login(data.addUser.token);_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](3);console.error(_context.t0);setShowAlert(true);case 17:setUserFormData({username:'',email:'',password:''});case 18:case\"end\":return _context.stop();}},_callee,null,[[3,13]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{noValidate:true,validated:validated,onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{dismissible:true,onClose:function onClose(){return setShowAlert(false);},show:showAlert,variant:\"danger\",children:\"Something went wrong with your signup!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"text\",placeholder:\"Your username\",name:\"username\",onChange:handleInputChange,value:userFormData.username,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback,{type:\"invalid\",children:\"Username is required!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"email\",placeholder:\"Your email address\",name:\"email\",onChange:handleInputChange,value:userFormData.email,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback,{type:\"invalid\",children:\"Email is required!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"password\",placeholder:\"Your password\",name:\"password\",onChange:handleInputChange,value:userFormData.password,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback,{type:\"invalid\",children:\"Password is required!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disabled:!(userFormData.username&&userFormData.email&&userFormData.password),type:\"submit\",variant:\"success\",children:\"Submit\"})]})});};/* harmony default export */ var components_SignupForm = (SignupForm_SignupForm);\n// CONCATENATED MODULE: ./src/components/LoginForm.js\n// see SignupForm.js for comments\n//ask if the order of the imports matter!!\nvar LoginForm_LoginForm=function LoginForm(){var _useState=Object(react[\"useState\"])({email:'',password:''}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userFormData=_useState2[0],setUserFormData=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,1),validated=_useState4[0];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),showAlert=_useState6[0],setShowAlert=_useState6[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(LOGIN_USER),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,1),login=_useMutation2[0];var handleInputChange=function handleInputChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setUserFormData(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},userFormData),{},Object(defineProperty[\"a\" /* default */])({},name,value)));};var handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(event){var form,_yield$login,data;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();// check if form has everything (as per react-bootstrap docs)\nform=event.currentTarget;if(form.checkValidity()===false){event.preventDefault();event.stopPropagation();}_context.prev=3;_context.next=6;return login({variables:Object(objectSpread2[\"a\" /* default */])({},userFormData)});case 6:_yield$login=_context.sent;data=_yield$login.data;if(data){_context.next=10;break;}throw new Error('something went wrong!');case 10:auth.login(data.login.token);_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](3);console.error(_context.t0);setShowAlert(true);case 17:setUserFormData({username:'',email:'',password:''});case 18:case\"end\":return _context.stop();}},_callee,null,[[3,13]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{noValidate:true,validated:validated,onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{dismissible:true,onClose:function onClose(){return setShowAlert(false);},show:showAlert,variant:\"danger\",children:\"Something went wrong with your login credentials!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"text\",placeholder:\"Your email\",name:\"email\",onChange:handleInputChange,value:userFormData.email,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback,{type:\"invalid\",children:\"Email is required!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"password\",placeholder:\"Your password\",name:\"password\",onChange:handleInputChange,value:userFormData.password,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback,{type:\"invalid\",children:\"Password is required!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disabled:!(userFormData.email&&userFormData.password),type:\"submit\",variant:\"success\",children:\"Submit\"})]})});};/* harmony default export */ var components_LoginForm = (LoginForm_LoginForm);\n// CONCATENATED MODULE: ./src/components/Navbar.js\nvar Navbar_AppNavbar=function AppNavbar(){// set modal display state\nvar _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),showModal=_useState2[0],setShowModal=_useState2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar[\"a\" /* default */],{bg:\"dark\",variant:\"dark\",expand:\"lg\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{fluid:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar[\"a\" /* default */].Brand,{as:dist[\"b\" /* Link */],to:\"/\",children:\"Google Books Search\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar[\"a\" /* default */].Toggle,{\"aria-controls\":\"navbar\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar[\"a\" /* default */].Collapse,{id:\"navbar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Nav[\"a\" /* default */],{className:\"ml-auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{as:dist[\"b\" /* Link */],to:\"/\",children:\"Search For Books\"}),auth.loggedIn()?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{as:dist[\"b\" /* Link */],to:\"/saved\",children:\"See Your Books\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{onClick:auth.logout,children:\"Logout\"})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{onClick:function onClick(){return setShowModal(true);},children:\"Login/Sign Up\"})]})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */],{size:\"lg\",show:showModal,onHide:function onHide(){return setShowModal(false);},\"aria-labelledby\":\"signup-modal\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Tab[\"a\" /* default */].Container,{defaultActiveKey:\"login\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Header,{closeButton:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Title,{id:\"signup-modal\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Nav[\"a\" /* default */],{variant:\"pills\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Item,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{eventKey:\"login\",children:\"Login\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Item,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{eventKey:\"signup\",children:\"Sign Up\"})})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Body,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Tab[\"a\" /* default */].Content,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tab[\"a\" /* default */].Pane,{eventKey:\"login\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_LoginForm,{handleModalClose:function handleModalClose(){return setShowModal(false);}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tab[\"a\" /* default */].Pane,{eventKey:\"signup\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_SignupForm,{handleModalClose:function handleModalClose(){return setShowModal(false);}})})]})})]})})]});};/* harmony default export */ var components_Navbar = (Navbar_AppNavbar);\n// EXTERNAL MODULE: ./node_modules/@apollo/client/link/http/createHttpLink.js + 17 modules\nvar createHttpLink = __webpack_require__(112);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/core/ApolloClient.js + 13 modules\nvar ApolloClient = __webpack_require__(146);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/cache/inmemory/inMemoryCache.js + 8 modules\nvar inMemoryCache = __webpack_require__(148);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/context/ApolloProvider.js\nvar ApolloProvider = __webpack_require__(143);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/link/context/index.js\nvar context = __webpack_require__(110);\n\n// CONCATENATED MODULE: ./src/App.js\nvar httpLink=Object(createHttpLink[\"a\" /* createHttpLink */])({uri:'/graphql'// cache: new InMemoryCache(),\n});var authLInk=Object(context[\"a\" /* setContext */])(function(_,_ref){var header=_ref.header;var token=localStorage.getItem('id_token');return{header:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},header),{},{authorization:token?\"Bearer \".concat(token):''})};});var client=new ApolloClient[\"a\" /* ApolloClient */]({link:authLInk.concat(httpLink),cache:new inMemoryCache[\"a\" /* InMemoryCache */]()});function App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ApolloProvider[\"a\" /* ApolloProvider */],{client:client,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Navbar,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dist[\"c\" /* Routes */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_SearchBooks,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/saved\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_SavedBooks,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"*\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"display-2\",children:\"Wrong page!\"})})]})]})})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[128,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\Tahlia\\bootcamp\\Book-Search-Engine-MERN\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Tahlia\\bootcamp\\Book-Search-Engine-MERN\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Tahlia\\bootcamp\\Book-Search-Engine-MERN\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Tahlia\\bootcamp\\Book-Search-Engine-MERN\\client\\src\\index.css","C:/Users/Tahlia/bootcamp/Book-Search-Engine-MERN/client/src/utils/mutations.js","C:/Users/Tahlia/bootcamp/Book-Search-Engine-MERN/client/src/utils/auth.js","C:/Users/Tahlia/bootcamp/Book-Search-Engine-MERN/client/src/utils/API.js","C:/Users/Tahlia/bootcamp/Book-Search-Engine-MERN/client/src/utils/localStorage.js","C:/Users/Tahlia/bootcamp/Book-Search-Engine-MERN/client/src/pages/SearchBooks.js","C:/Users/Tahlia/bootcamp/Book-Search-Engine-MERN/client/src/utils/queries.js","C:/Users/Tahlia/bootcamp/Book-Search-Engine-MERN/client/src/pages/SavedBooks.js","C:/Users/Tahlia/bootcamp/Book-Search-Engine-MERN/client/src/components/SignupForm.js","C:/Users/Tahlia/bootcamp/Book-Search-Engine-MERN/client/src/components/LoginForm.js","C:/Users/Tahlia/bootcamp/Book-Search-Engine-MERN/client/src/components/Navbar.js","C:/Users/Tahlia/bootcamp/Book-Search-Engine-MERN/client/src/App.js","C:/Users/Tahlia/bootcamp/Book-Search-Engine-MERN/client/src/index.js"],"names":["LOGIN_USER","gql","ADD_USER","SAVE_BOOK","REMOVE_BOOK","AuthService","decode","getToken","token","isTokenExpired","decoded","exp","Date","now","err","localStorage","getItem","idToken","setItem","window","location","assign","removeItem","getMe","fetch","headers","authorization","createUser","userData","method","body","JSON","stringify","loginUser","saveBook","bookData","deleteBook","bookId","searchGoogleBooks","query","getSavedBookIds","savedBookIds","parse","saveBookIds","bookIdArr","length","removeBookId","updatedSavedBookIds","filter","savedBookId","SearchBooks","useState","searchedBooks","setSearchedBooks","searchInput","setSearchInput","useMutation","setSavedBookIds","useEffect","handleFormSubmit","event","preventDefault","response","ok","Error","json","items","map","book","id","authors","volumeInfo","title","description","image","imageLinks","thumbnail","console","error","handleSaveBook","bookToSave","find","Auth","loggedIn","e","target","value","some","GET_ME","SavedBooks","useQuery","loading","data","me","removeBook","handleDeleteBook","variables","savedBooks","SignupForm","username","email","password","userFormData","setUserFormData","validated","showAlert","setShowAlert","handleInputChange","name","form","currentTarget","checkValidity","stopPropagation","login","addUser","LoginForm","AppNavbar","showModal","setShowModal","Link","logout","httpLink","createHttpLink","uri","authLInk","setContext","_","header","client","ApolloClient","link","concat","cache","InMemoryCache","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import { gql } from '@apollo/client';\r\n\r\nexport const LOGIN_USER = gql`\r\n    mutation login($email: String, $password: String) {\r\n        login(email, password: $password) {\r\n            token\r\n            user {\r\n                _id\r\n                username\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const ADD_USER = gql`\r\n    mutation addUser($username: String!, $email: String!, $password: String!) {\r\n        addUser(username: $username, email: $email, password: $password) {\r\n            token\r\n            user {\r\n                _id\r\n                username\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const SAVE_BOOK = gql`\r\n    mutation savebook(\r\n        $bookId: String\r\n        $authors: [String]\r\n        $description: String\r\n        $title: String\r\n        $image: String\r\n        $link: String\r\n    ) {\r\n        saveBook(\r\n            bookId: $bookId\r\n            authors: $authors\r\n            description: $description\r\n            titleL $title\r\n            image: $image\r\n            link: $link\r\n        ) {\r\n           _id\r\n           username\r\n           email\r\n           bookCount\r\n           savedBooks {\r\n            bookId\r\n            authors\r\n            description\r\n            title\r\n            image\r\n            link\r\n           } \r\n        }\r\n    }\r\n`;\r\n\r\nexport const REMOVE_BOOK = gql`\r\n    mutation removeBook($bookId: String!) {\r\n        removeBook(bookId: $bookId) {\r\n            _id\r\n            username\r\n            bookCount\r\n            savedBooks {\r\n                bookId\r\n                authors\r\n                description\r\n                title\r\n                image\r\n                link\r\n            }\r\n        }\r\n    }\r\n`;","// use this to decode a token and get the user's information out of it\nimport decode from 'jwt-decode';\n\n// create a new class to instantiate for a user\nclass AuthService {\n  // get user data\n  getProfile() {\n    return decode(this.getToken());\n  }\n\n  // check if user's logged in\n  loggedIn() {\n    // Checks if there is a saved token and it's still valid\n    const token = this.getToken();\n    return !!token && !this.isTokenExpired(token); // handwaiving here\n  }\n\n  // check if token is expired\n  isTokenExpired(token) {\n    try {\n      const decoded = decode(token);\n      if (decoded.exp < Date.now() / 1000) {\n        return true;\n      } else return false;\n    } catch (err) {\n      return false;\n    }\n  }\n\n  getToken() {\n    // Retrieves the user token from localStorage\n    return localStorage.getItem('id_token');\n  }\n\n  login(idToken) {\n    // Saves user token to localStorage\n    localStorage.setItem('id_token', idToken);\n    window.location.assign('/');\n  }\n\n  logout() {\n    // Clear user token and profile data from localStorage\n    localStorage.removeItem('id_token');\n    // this will reload the page and reset the state of the application\n    window.location.assign('/');\n  }\n}\n\nexport default new AuthService();\n","// route to get logged in user's info (needs the token)\nexport const getMe = (token) => {\n  return fetch('/api/users/me', {\n    headers: {\n      'Content-Type': 'application/json',\n      authorization: `Bearer ${token}`,\n    },\n  });\n};\n\nexport const createUser = (userData) => {\n  return fetch('/api/users', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(userData),\n  });\n};\n\nexport const loginUser = (userData) => {\n  return fetch('/api/users/login', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(userData),\n  });\n};\n\n// save book data for a logged in user\nexport const saveBook = (bookData, token) => {\n  return fetch('/api/users', {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify(bookData),\n  });\n};\n\n// remove saved book data for a logged in user\nexport const deleteBook = (bookId, token) => {\n  return fetch(`/api/users/books/${bookId}`, {\n    method: 'DELETE',\n    headers: {\n      authorization: `Bearer ${token}`,\n    },\n  });\n};\n\n// make a search to google books api\n// https://www.googleapis.com/books/v1/volumes?q=harry+potter\nexport const searchGoogleBooks = (query) => {\n  return fetch(`https://www.googleapis.com/books/v1/volumes?q=${query}`);\n};\n","export const getSavedBookIds = () => {\n  const savedBookIds = localStorage.getItem('saved_books')\n    ? JSON.parse(localStorage.getItem('saved_books'))\n    : [];\n\n  return savedBookIds;\n};\n\nexport const saveBookIds = (bookIdArr) => {\n  if (bookIdArr.length) {\n    localStorage.setItem('saved_books', JSON.stringify(bookIdArr));\n  } else {\n    localStorage.removeItem('saved_books');\n  }\n};\n\nexport const removeBookId = (bookId) => {\n  const savedBookIds = localStorage.getItem('saved_books')\n    ? JSON.parse(localStorage.getItem('saved_books'))\n    : null;\n\n  if (!savedBookIds) {\n    return false;\n  }\n\n  const updatedSavedBookIds = savedBookIds?.filter((savedBookId) => savedBookId !== bookId);\n  localStorage.setItem('saved_books', JSON.stringify(updatedSavedBookIds));\n\n  return true;\n};\n","import React, { useState, useEffect } from 'react';\nimport { \n  Jumbotron,\n   Container, \n   Col, \n   Form, \n   Button, \n   Card,\n    CardColumns \n  } from 'react-bootstrap';\nimport { SAVE_BOOK } from '../utils/mutations';\nimport Auth from '../utils/auth';\nimport { searchGoogleBooks } from '../utils/API';\nimport { saveBookIds, getSavedBookIds } from '../utils/localStorage';\nimport { useMutation } from '@apollo/client';\n\nconst SearchBooks = () => {\n  // create state for holding returned google api data\n  const [searchedBooks, setSearchedBooks] = useState([]);\n  // create state for holding our search field data\n  const [searchInput, setSearchInput] = useState('');\n\n  const [saveBook] = useMutation(SAVE_BOOK);\n\n  // create state to hold saved bookId values\n  const [savedBookIds, setSavedBookIds] = useState(getSavedBookIds());\n\n  // set up useEffect hook to save `savedBookIds` list to localStorage on component unmount\n  // learn more here: https://reactjs.org/docs/hooks-effect.html#effects-with-cleanup\n  useEffect(() => {\n    return () => saveBookIds(savedBookIds);\n  });\n\n  // create method to search for books and set state on form submit\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    if (!searchInput) {\n      return false;\n    }\n\n    try {\n      const response = await searchGoogleBooks(searchInput);\n\n      if (!response.ok) {\n        throw new Error('something went wrong!');\n      }\n\n      const { items } = await response.json();\n\n      const bookData = items.map((book) => ({\n        bookId: book.id,\n        authors: book.volumeInfo.authors || ['No author to display'],\n        title: book.volumeInfo.title,\n        description: book.volumeInfo.description,\n        image: book.volumeInfo.imageLinks?.thumbnail || '',\n      }));\n\n      setSearchedBooks(bookData);\n      setSearchInput('');\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  // create function to handle saving a book to our database\n  const handleSaveBook = async (bookId) => {\n    // find the book in `searchedBooks` state by the matching id\n    const bookToSave = searchedBooks.find((book) => book.bookId === bookId);\n\n    // get token\n    const token = Auth.loggedIn() ? Auth.getToken() : null;\n\n    if (!token) {\n      return false;\n    }\n\n    try {\n      const response = await saveBook(bookToSave, token);\n\n      if (!response.ok) {\n        throw new Error('something went wrong!');\n      }\n\n      // if book successfully saves to user's account, save book id to state\n      setSavedBookIds([...savedBookIds, bookToSave.bookId]);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    <>\n      <Jumbotron fluid className='text-light bg-dark'>\n        <Container>\n          <h1>Search for Books!</h1>\n          <Form onSubmit={handleFormSubmit}>\n            <Form.Row>\n              <Col xs={12} md={8}>\n                <Form.Control\n                  name='searchInput'\n                  value={searchInput}\n                  onChange={(e) => setSearchInput(e.target.value)}\n                  type='text'\n                  size='lg'\n                  placeholder='Search for a book'\n                />\n              </Col>\n              <Col xs={12} md={4}>\n                <Button type='submit' variant='success' size='lg'>\n                  Submit Search\n                </Button>\n              </Col>\n            </Form.Row>\n          </Form>\n        </Container>\n      </Jumbotron>\n\n      <Container>\n        <h2>\n          {searchedBooks.length\n            ? `Viewing ${searchedBooks.length} results:`\n            : 'Search for a book to begin'}\n        </h2>\n        <CardColumns>\n          {searchedBooks.map((book) => {\n            return (\n              <Card key={book.bookId} border='dark'>\n                {book.image ? (\n                  <Card.Img \n                  src={book.image} \n                  alt={`The cover for ${book.title}`} \n                  variant='top' \n                  />\n                ) : null}\n                <Card.Body>\n                  <Card.Title>{book.title}</Card.Title>\n                  <p className='small'>Authors: {book.authors}</p>\n                  <Card.Text>{book.description}</Card.Text>\n                  {Auth.loggedIn() && (\n                    <Button\n                      disabled={savedBookIds?.some(\n                        (savedBookId) => savedBookId === book.bookId\n                        )}\n                      className='btn-block btn-info'\n                      onClick={() => handleSaveBook(book.bookId)}\n                      >\n                      {savedBookIds?.some(\n                        (savedBookId) => savedBookId === book.bookId\n                        )\n                        ? 'This book has already been saved!'\n                        : 'Save this Book!'}\n                    </Button>\n                  )}\n                </Card.Body>\n              </Card>\n            );\n          })}\n        </CardColumns>\n      </Container>\n    </>\n  );\n};\n\nexport default SearchBooks;\n","import { gql } from '@apollo/client';\r\n\r\nexport const GET_ME = gql`\r\n    query listing {\r\n        me {\r\n            _id\r\n            username\r\n            email\r\n            bookCount\r\n            saveBooks {\r\n                bookId\r\n                authors\r\n                description\r\n                title\r\n                image\r\n                link\r\n            }\r\n        }\r\n        \r\n    }\r\n`;","import React from 'react';\nimport {\n   Jumbotron,\n  Container, \n  CardColumns, \n  Card, \n  Button, \n} from 'react-bootstrap';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { GET_ME } from '../utils/queries';\nimport Auth from '../utils/auth';\nimport { removeBookId } from '../utils/localStorage';\nimport { REMOVE_BOOK } from '../utils/mutations';\n\nconst SavedBooks = () => {\n  const { loading, data } = useQuery(GET_ME);\n  let userData = data?.me || {};\n  const [removeBook] = useMutation(REMOVE_BOOK);\n\n  \n  const handleDeleteBook = async (bookId) => {\n    const token = Auth.loggedIn() ? Auth.getToken() : null;\n\n    if (!token) {\n      return false;\n    }\n    \n    try {\n      const { data } = await removeBook({ variables: { bookId } });\n\n      if (!data) {\n        throw new Error('Need to check your code!!');\n      }\n\n      //removing book id from localStorage\n      removeBookId(bookId);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  if (loading) {\n    return <h2>LOADING...</h2>\n  }\n\n   \n  return (\n    <>\n      <Jumbotron fluid className='text-light bg-dark'>\n        <Container>\n          <h1>Viewing saved books!</h1>\n        </Container>\n      </Jumbotron>\n      <Container>\n        <h2>\n          {userData.savedBooks.length\n            ? `Viewing ${userData.savedBooks.length} saved ${\n              userData.savedBooks.length === 1 ? 'book' : 'books'\n            }:`\n            : 'You have no saved books!'}\n        </h2>\n        <CardColumns>\n          {userData.savedBooks.map((book) => {\n            return (\n              <Card key={book.bookId} border='dark'>\n                {book.image ? ( \n                <Card.Img \n                src={book.image}\n                 alt={`The cover for ${book.title}`} \n                 variant='top' \n                 /> \n          ): null}\n                <Card.Body>\n                  <Card.Title>{book.title}</Card.Title>\n                  <p className='small'>Authors: {book.authors}</p>\n                  <Card.Text>{book.description}</Card.Text>\n                  <Button\n                   className='btn-block btn-danger' \n                   onClick={() => handleDeleteBook(book.bookId)}\n                   >\n                    Delete this Book!\n                  </Button>\n                </Card.Body>\n              </Card>\n            );\n          })}\n        </CardColumns>\n      </Container>\n    </>\n  );\n};\n\nexport default SavedBooks;\n","import React, { useState } from 'react';\nimport { Form, Button, Alert } from 'react-bootstrap';\nimport { ADD_USER } from '../utils/mutations';\nimport Auth from '../utils/auth';\n\n\nconst SignupForm = () => {\n  // set initial form state\n  const [userFormData, setUserFormData] = useState({ \n    username: '',\n     email: '',\n      password: ''\n   });\n  // set state for form validation\n  const [validated] = useState(false);\n  // set state for alert\n  const [showAlert, setShowAlert] = useState(false);\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setUserFormData({ ...userFormData, [name]: value });\n  };\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    // check if form has everything (as per react-bootstrap docs)\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    try {\n      const { data } = await ADD_USER({ variables: { ...userFormData } });\n\n      if (!data) {\n        throw new Error('something went wrong!');\n      }\n\n      \n      Auth.login(data.addUser.token);\n    } catch (err) {\n      console.error(err);\n      setShowAlert(true);\n    }\n\n    setUserFormData({\n      username: '',\n      email: '',\n      password: '',\n    });\n  };\n\n  return (\n    <>\n      {/* This is needed for the validation functionality above */}\n      <Form noValidate validated={validated} onSubmit={handleFormSubmit}>\n        {/* show alert if server response is bad */}\n        <Alert\n         dismissible \n         onClose={() => setShowAlert(false)}\n          show={showAlert} \n          variant='danger'\n          >\n          Something went wrong with your signup!\n        </Alert>\n\n        <Form.Group>\n          <Form.Label htmlFor='username'>Username</Form.Label>\n          <Form.Control\n            type='text'\n            placeholder='Your username'\n            name='username'\n            onChange={handleInputChange}\n            value={userFormData.username}\n            required\n          />\n          <Form.Control.Feedback type='invalid'>\n            Username is required!\n            </Form.Control.Feedback>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label htmlFor='email'>Email</Form.Label>\n          <Form.Control\n            type='email'\n            placeholder='Your email address'\n            name='email'\n            onChange={handleInputChange}\n            value={userFormData.email}\n            required\n          />\n          <Form.Control.Feedback type='invalid'>Email is required!</Form.Control.Feedback>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label htmlFor='password'>Password</Form.Label>\n          <Form.Control\n            type='password'\n            placeholder='Your password'\n            name='password'\n            onChange={handleInputChange}\n            value={userFormData.password}\n            required\n          />\n          <Form.Control.Feedback type='invalid'>\n            Password is required!\n            </Form.Control.Feedback>\n        </Form.Group>\n        <Button\n          disabled={\n            !(\n              userFormData.username &&\n              userFormData.email &&\n              userFormData.password\n              )\n            }\n          type='submit'\n          variant='success'\n          >\n          Submit\n        </Button>\n      </Form>\n    </>\n  );\n};\n\nexport default SignupForm;\n","// see SignupForm.js for comments\n//ask if the order of the imports matter!!\nimport React, { useState } from 'react';\nimport { Form, Button, Alert } from 'react-bootstrap';\nimport { useMutation } from '@apollo/client';\nimport { LOGIN_USER } from '../utils/mutations';\nimport Auth from '../utils/auth';\n\nconst LoginForm = () => {\n  const [userFormData, setUserFormData] = useState({ email: '', password: '' });\n  const [validated] = useState(false);\n  const [showAlert, setShowAlert] = useState(false);\n  const [login] = useMutation(LOGIN_USER);\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setUserFormData({ ...userFormData, [name]: value });\n  };\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    // check if form has everything (as per react-bootstrap docs)\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    try {\n      const { data } = await login({ variables: { ...userFormData } });\n\n      if (!data) {\n        throw new Error('something went wrong!');\n      }\n\n      Auth.login(data.login.token);\n    } catch (err) {\n      console.error(err);\n      setShowAlert(true);\n    }\n\n    setUserFormData({\n      username: '',\n      email: '',\n      password: '',\n    });\n  };\n\n  return (\n    <>\n      <Form noValidate validated={validated} onSubmit={handleFormSubmit}>\n        <Alert \n        dismissible \n        onClose={() => setShowAlert(false)} \n        show={showAlert}\n         variant='danger'\n         >\n          Something went wrong with your login credentials!\n        </Alert>\n        <Form.Group>\n          <Form.Label htmlFor='email'>Email</Form.Label>\n          <Form.Control\n            type='text'\n            placeholder='Your email'\n            name='email'\n            onChange={handleInputChange}\n            value={userFormData.email}\n            required\n          />\n          <Form.Control.Feedback type='invalid'>\n            Email is required!\n            </Form.Control.Feedback>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label htmlFor='password'>Password</Form.Label>\n          <Form.Control\n            type='password'\n            placeholder='Your password'\n            name='password'\n            onChange={handleInputChange}\n            value={userFormData.password}\n            required\n          />\n          <Form.Control.Feedback type='invalid'>\n            Password is required!\n            </Form.Control.Feedback>\n        </Form.Group>\n        <Button\n          disabled={!(userFormData.email && userFormData.password)}\n          type='submit'\n          variant='success'\n          >\n          Submit\n        </Button>\n      </Form>\n    </>\n  );\n};\n\nexport default LoginForm;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Navbar, Nav, Container, Modal, Tab } from 'react-bootstrap';\nimport SignUpForm from './SignupForm';\nimport LoginForm from './LoginForm';\n\nimport Auth from '../utils/auth';\n\nconst AppNavbar = () => {\n  // set modal display state\n  const [showModal, setShowModal] = useState(false);\n\n  return (\n    <>\n      <Navbar bg='dark' variant='dark' expand='lg'>\n        <Container fluid>\n          <Navbar.Brand as={Link} to='/'>\n            Google Books Search\n          </Navbar.Brand>\n          <Navbar.Toggle aria-controls='navbar' />\n          <Navbar.Collapse id='navbar'>\n            <Nav className='ml-auto'>\n              <Nav.Link as={Link} to='/'>\n                Search For Books\n              </Nav.Link>\n              {/* if user is logged in show saved books and logout */}\n              {Auth.loggedIn() ? (\n                <>\n                  <Nav.Link as={Link} to='/saved'>\n                    See Your Books\n                  </Nav.Link>\n                  <Nav.Link onClick={Auth.logout}>Logout</Nav.Link>\n                </>\n              ) : (\n                <Nav.Link onClick={() => setShowModal(true)}>Login/Sign Up</Nav.Link>\n              )}\n            </Nav>\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n      {/* set modal data up */}\n      <Modal\n        size='lg'\n        show={showModal}\n        onHide={() => setShowModal(false)}\n        aria-labelledby='signup-modal'>\n        {/* tab container to do either signup or login component */}\n        <Tab.Container defaultActiveKey='login'>\n          <Modal.Header closeButton>\n            <Modal.Title id='signup-modal'>\n              <Nav variant='pills'>\n                <Nav.Item>\n                  <Nav.Link eventKey='login'>Login</Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey='signup'>Sign Up</Nav.Link>\n                </Nav.Item>\n              </Nav>\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Tab.Content>\n              <Tab.Pane eventKey='login'>\n                <LoginForm handleModalClose={() => setShowModal(false)} />\n              </Tab.Pane>\n              <Tab.Pane eventKey='signup'>\n                <SignUpForm handleModalClose={() => setShowModal(false)} />\n              </Tab.Pane>\n            </Tab.Content>\n          </Modal.Body>\n        </Tab.Container>\n      </Modal>\n    </>\n  );\n};\n\nexport default AppNavbar;\n","import React from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport SearchBooks from './pages/SearchBooks';\nimport SavedBooks from './pages/SavedBooks';\nimport Navbar from './components/Navbar';\nimport {\n  ApolloClient,\n  ApolloProvider,\n  InMemoryCache,\n  createHttpLink,\n} from '@apollo/client';\nimport { setContext } from '@apollo/client/link/context';\n\nconst httpLink = createHttpLink({\n  uri: '/graphql',\n // cache: new InMemoryCache(),\n});\n\nconst authLInk = setContext((_, { header}) => {\n  const token = localStorage.getItem('id_token');\n  return {\n    header: {\n      ...header,\n      authorization: token ? `Bearer ${token}` : '',\n    },\n  };\n});\n\nconst client = new ApolloClient({\n  link: authLInk.concat(httpLink),\n  cache: new InMemoryCache(),\n});\n\nfunction App() {\n  return (\n    <ApolloProvider client={client}>\n    <Router>\n      <>\n        <Navbar />\n        <Routes>\n          <Route \n            path='/'  element={<SearchBooks />} />\n          <Route \n            path='/saved'  element={<SavedBooks />} />\n          <Route \n            path='*' element={<h1 className='display-2'>Wrong page!</h1>} />\n        </Routes>\n      </>\n    </Router>\n  </ApolloProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"]}}